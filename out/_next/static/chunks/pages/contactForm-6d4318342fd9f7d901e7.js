_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{"/c9q":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/contactForm",function(){return n("NhHH")}])},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},NhHH:function(e,t,n){"use strict";n.r(t);var r,i=n("q1tI"),o=n.n(i),a=n("vOnD"),s=n("l2P8"),c=n("SbJb"),u=n("a6RD"),l=n.n(u),f=n("YFqc"),p=n.n(f),h=n("zIRd"),d=(n("t6oF"),n("6Uf2"),n("xo5E"),n("WMWv")),g=n("qOnz"),_=n("q/0M");n("x7I3");(r=d.f).prototype.loadBundle=d.k,r.prototype.namedQuery=d.s;var v=n("mrSG"),m=n("/6Yf"),b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},y=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return Object(v.__extends)(t,e),t}(Error);var w=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return Object(v.__awaiter)(this,void 0,void 0,(function(){var e;return Object(v.__generator)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return Object(v.__awaiter)(this,void 0,void 0,(function(){return Object(v.__generator)(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return Object(v.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(v.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function k(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var O=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"===typeof e||"object"===typeof e)return k(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"===typeof e||"object"===typeof e?k(e,(function(e){return t.decode(e)})):e},e}();var T=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new O,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new w(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(c){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return Object(v.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return Object(v.__generator)(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return Object(v.__awaiter)(this,void 0,void 0,(function(){var e;return Object(v.__generator)(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return Object(v.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,c,u,l,f,p,h;return Object(v.__generator)(this,(function(d){switch(d.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=d.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,c=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new y("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),u=c.timer,l=c.promise,[4,Promise.race([I(u,this.postJSON(r,i,o)),l,I(u,this.cancelAllRequests)])];case 2:if(!(f=d.sent()))throw new y("cancelled","Firebase Functions instance was deleted.");if(p=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"===typeof s){if(!b[s])return new y("internal","internal");r=b[s],i=s}var c=a.message;"string"===typeof c&&(i=c),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(u){}return"ok"===r?null:new y(r,i,o)}(f.status,f.json,this.serializer))throw p;if(!f.json)throw new y("internal","Response is not valid JSON object.");if("undefined"===typeof(h=f.json.data)&&(h=f.json.result),"undefined"===typeof h)throw new y("internal","Response is missing data field.");return[2,{data:this.serializer.decode(h)}]}}))}))},e}();function I(e,t){return Object(v.__awaiter)(this,void 0,void 0,(function(){var n;return Object(v.__generator)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:T};e.INTERNAL.registerComponent(new m.Component("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new T(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(h.default,fetch.bind(self)),h.default.registerVersion("@firebase/functions","0.6.14");var E,j=n("nbvr"),S=((E={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',E["not-registered"]="Firebase Installation is not registered.",E["installation-not-found"]="Firebase Installation not found.",E["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',E["app-offline"]="Could not process request. Application offline.",E["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",E),C=new g.ErrorFactory("installations","Installations",S);function P(e){return e instanceof g.FirebaseError&&e.code.includes("request-failed")}function A(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function R(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function x(e,t){return Object(v.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(v.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,C.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function N(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function M(e,t){var n=t.refreshToken,r=N(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function D(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){var t;return Object(v.__generator)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function F(e,t){var n=t.fid;return Object(v.__awaiter)(this,void 0,void 0,(function(){var t,r,i,o,a,s;return Object(v.__generator)(this,(function(c){switch(c.label){case 0:return t=A(e),r=N(e),i={fid:n,authVersion:"FIS_v2",appId:e.appId,sdkVersion:"w:0.4.31"},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,D((function(){return fetch(t,o)}))];case 1:return(a=c.sent()).ok?[4,a.json()]:[3,3];case 2:return s=c.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:R(s.authToken)}];case 3:return[4,x("Create Installation",a)];case 4:throw c.sent()}}))}))}function U(e){return new Promise((function(t){setTimeout(t,e)}))}var L=/^[cdef][\w-]{21}$/;function B(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Object(v.__spreadArray)([],Object(v.__read)(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return L.test(t)?t:""}catch(n){return""}}function K(e){return e.appName+"!"+e.appId}var q=new Map;function H(e,t){var n=K(e);z(n,t),function(e,t){var n=W();n&&n.postMessage({key:e,fid:t});G()}(n,t)}function z(e,t){var n,r,i=q.get(e);if(i)try{for(var o=Object(v.__values)(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var V=null;function W(){return!V&&"BroadcastChannel"in self&&((V=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){z(e.data.key,e.data.fid)}),V}function G(){0===q.size&&V&&(V.close(),V=null)}var $,X,J="firebase-installations-store",Y=null;function Z(){return Y||(Y=Object(j.openDb)("firebase-installations-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(J)}}))),Y}function Q(e,t){return Object(v.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(v.__generator)(this,(function(s){switch(s.label){case 0:return n=K(e),[4,Z()];case 1:return r=s.sent(),i=r.transaction(J,"readwrite"),[4,(o=i.objectStore(J)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||H(e,t.fid),[2,t]}}))}))}function ee(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(v.__generator)(this,(function(i){switch(i.label){case 0:return t=K(e),[4,Z()];case 1:return n=i.sent(),[4,(r=n.transaction(J,"readwrite")).objectStore(J).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function te(e,t){return Object(v.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Object(v.__generator)(this,(function(c){switch(c.label){case 0:return n=K(e),[4,Z()];case 1:return r=c.sent(),i=r.transaction(J,"readwrite"),[4,(o=i.objectStore(J)).get(n)];case 2:return a=c.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),!s||a&&a.fid===s.fid||H(e,s.fid),[2,s]}}))}))}function ne(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(v.__generator)(this,(function(i){switch(i.label){case 0:return[4,te(e,(function(n){var r=function(e){return oe(e||{fid:B(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(C.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return Object(v.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(v.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,F(e,t)];case 1:return n=i.sent(),[2,Q(e,n)];case 2:return P(r=i.sent())&&409===r.customData.serverCode?[4,ee(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Q(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:re(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function re(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return Object(v.__generator)(this,(function(o){switch(o.label){case 0:return[4,ie(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,U(100)];case 3:return o.sent(),[4,ie(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,ne(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function ie(e){return te(e,(function(e){if(!e)throw C.create("installation-not-found");return oe(e)}))}function oe(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function ae(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return Object(v.__awaiter)(this,void 0,void 0,(function(){var e,i,o,a,s,c,u;return Object(v.__generator)(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return A(e)+"/"+n+"/authTokens:generate"}(n,t),i=M(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:"w:0.4.31"}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,D((function(){return fetch(e,s)}))];case 1:return(c=l.sent()).ok?[4,c.json()]:[3,3];case 2:return u=l.sent(),[2,R(u)];case 3:return[4,x("Generate Auth Token",c)];case 4:throw l.sent()}}))}))}function se(e,t){return void 0===t&&(t=!1),Object(v.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(v.__generator)(this,(function(o){switch(o.label){case 0:return[4,te(e.appConfig,(function(r){if(!ue(r))throw C.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return Object(v.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(v.__generator)(this,(function(i){switch(i.label){case 0:return[4,ce(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,U(100)];case 3:return i.sent(),[4,ce(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,se(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw C.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return Object(v.__assign)(Object(v.__assign)({},e),{authToken:t})}(r);return n=function(e,t){return Object(v.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(v.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,ae(e,t)];case 1:return n=o.sent(),i=Object(v.__assign)(Object(v.__assign)({},t),{authToken:n}),[4,Q(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!P(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,ee(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(v.__assign)(Object(v.__assign)({},t),{authToken:{requestStatus:0}}),[4,Q(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function ce(e){return te(e,(function(e){if(!ue(e))throw C.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+1e4<Date.now()?Object(v.__assign)(Object(v.__assign)({},e),{authToken:{requestStatus:0}}):e}))}function ue(e){return void 0!==e&&2===e.registrationStatus}function le(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){var t;return Object(v.__generator)(this,(function(n){switch(n.label){case 0:return[4,ne(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function fe(e,t){return Object(v.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(v.__generator)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return A(e)+"/"+n}(e,t),r=M(e,t),i={method:"DELETE",headers:r},[4,D((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,x("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function pe(e,t){var n=e.appConfig;return function(e,t){W();var n=K(e),r=q.get(n);r||(r=new Set,q.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=K(e),r=q.get(n);r&&(r.delete(t),0===r.size&&q.delete(n),G())}(n,t)}}function he(e){return C.create("missing-app-config-values",{valueName:e})}($=h.default).INTERNAL.registerComponent(new m.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw he("App Configuration");if(!e.name)throw he("App Name");try{for(var r=Object(v.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw he(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(v.__generator)(this,(function(i){switch(i.label){case 0:return[4,ne(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):se(e).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),Object(v.__awaiter)(this,void 0,void 0,(function(){return Object(v.__generator)(this,(function(n){switch(n.label){case 0:return[4,le(e.appConfig)];case 1:return n.sent(),[4,se(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(v.__generator)(this,(function(r){switch(r.label){case 0:return[4,te(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw C.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw C.create("app-offline");case 3:return[4,fe(t,n)];case 4:return r.sent(),[4,ee(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return pe(n,e)}}}),"PUBLIC")),$.registerVersion("@firebase/installations","0.4.31");var de,ge=((X={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',X["only-available-in-window"]="This method is available in a Window context.",X["only-available-in-sw"]="This method is available in a service worker context.",X["permission-default"]="The notification permission was not granted and dismissed instead.",X["permission-blocked"]="The notification permission was not granted and blocked instead.",X["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",X["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",X["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",X["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",X["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",X["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",X["token-update-no-token"]="FCM returned no token when updating the user to push.",X["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",X["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",X["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",X["invalid-vapid-key"]="The public VAPID key must be a string.",X["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",X),_e=new g.ErrorFactory("messaging","Messaging",ge),ve="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";function me(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Object(v.__spreadArray)([],Object(v.__read)(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function be(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(de||(de={}));function ye(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){var t,n,r=this;return Object(v.__generator)(this,(function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=i.sent(),!t.map((function(e){return e.name})).includes("fcm_token_details_db"))return[2,null];i.label=2;case 2:return n=null,[4,Object(j.openDb)("fcm_token_details_db",5,(function(t){return Object(v.__awaiter)(r,void 0,void 0,(function(){var r,i,o,a;return Object(v.__generator)(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains("fcm_token_object_Store")?[4,(r=t.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,r.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];n={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:me(o.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(n={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:me(o.auth),p256dh:me(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:me(o.vapidKey)}});return[2]}}))}))}))];case 3:return i.sent().close(),[4,Object(j.deleteDb)("fcm_token_details_db")];case 4:return i.sent(),[4,Object(j.deleteDb)("fcm_vapid_details_db")];case 5:return i.sent(),[4,Object(j.deleteDb)("undefined")];case 6:return i.sent(),[2,we(n)?n:null]}}))}))}function we(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var ke=null;function Oe(){return ke||(ke=Object(j.openDb)("firebase-messaging-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore("firebase-messaging-store")}}))),ke}function Te(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(v.__generator)(this,(function(i){switch(i.label){case 0:return t=je(e),[4,Oe()];case 1:return[4,i.sent().transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,ye(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,Ie(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function Ie(e,t){return Object(v.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(v.__generator)(this,(function(o){switch(o.label){case 0:return n=je(e),[4,Oe()];case 1:return r=o.sent(),[4,(i=r.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function Ee(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(v.__generator)(this,(function(i){switch(i.label){case 0:return t=je(e),[4,Oe()];case 1:return n=i.sent(),[4,(r=n.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function je(e){return e.appConfig.appId}function Se(e,t){return Object(v.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Object(v.__generator)(this,(function(c){switch(c.label){case 0:return[4,Re(e)];case 1:n=c.sent(),r=xe(t),i={method:"POST",headers:n,body:JSON.stringify(r)},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(Ae(e.appConfig),i)];case 3:return[4,c.sent().json()];case 4:return o=c.sent(),[3,6];case 5:throw a=c.sent(),_e.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,_e.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw _e.create("token-subscribe-no-token");return[2,o.token]}}))}))}function Ce(e,t){return Object(v.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Object(v.__generator)(this,(function(c){switch(c.label){case 0:return[4,Re(e)];case 1:n=c.sent(),r=xe(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(Ae(e.appConfig)+"/"+t.token,i)];case 3:return[4,c.sent().json()];case 4:return o=c.sent(),[3,6];case 5:throw a=c.sent(),_e.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,_e.create("token-update-failed",{errorInfo:s});if(!o.token)throw _e.create("token-update-no-token");return[2,o.token]}}))}))}function Pe(e,t){return Object(v.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(v.__generator)(this,(function(s){switch(s.label){case 0:return[4,Re(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(Ae(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,_e.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),_e.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function Ae(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function Re(e){var t=e.appConfig,n=e.installations;return Object(v.__awaiter)(this,void 0,void 0,(function(){var e;return Object(v.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function xe(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==ve&&(o.web.applicationPubKey=i),o}function Ne(e,t,n){return Object(v.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return Object(v.__generator)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw _e.create("permission-blocked");return[4,Ue(t,n)];case 1:return r=s.sent(),[4,Te(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:me(r.getKey("auth")),p256dh:me(r.getKey("p256dh"))},i?[3,3]:[2,Fe(e,o)];case 3:if(function(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(i.subscriptionOptions,o))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,Pe(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,Fe(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,De({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}}))}))}function Me(e,t){return Object(v.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(v.__generator)(this,(function(i){switch(i.label){case 0:return[4,Te(e)];case 1:return(n=i.sent())?[4,Pe(e,n.token)]:[3,4];case 2:return i.sent(),[4,Ee(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function De(e,t,n){return Object(v.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return Object(v.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,Ce(t,e)];case 1:return r=a.sent(),i=Object(v.__assign)(Object(v.__assign)({},e),{token:r,createTime:Date.now()}),[4,Ie(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,Me(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function Fe(e,t){return Object(v.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(v.__generator)(this,(function(i){switch(i.label){case 0:return[4,Se(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,Ie(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function Ue(e,t){return Object(v.__awaiter)(this,void 0,void 0,(function(){var n;return Object(v.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:be(t)})]}}))}))}function Le(e){return"object"===typeof e&&!!e&&"google.c.a.c_id"in e}function Be(e){return new Promise((function(t){setTimeout(t,e)}))}var Ke=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!==typeof e)throw _e.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return Object(v.__awaiter)(this,void 0,void 0,(function(){var n;return Object(v.__generator)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Te(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:ve,r.label=2;case 2:return[2,Ne(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return Me(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw _e.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw _e.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw _e.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw _e.create("only-available-in-window")},e.prototype.onMessage=function(){throw _e.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw _e.create("only-available-in-window")},e.prototype.onPush=function(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return Object(v.__generator)(this,(function(o){switch(o.label){case 0:return(t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e))?[4,Ve()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,ze(n,t)]:(r=!1,t.notification?[4,We(qe(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,Be(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return Object(v.__awaiter)(this,void 0,void 0,(function(){var r;return Object(v.__generator)(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,Me(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,Te(this.firebaseDependencies)];case 3:return r=i.sent(),[4,Me(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,Ne(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:ve)];case 5:return i.sent(),[2]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return Object(v.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s;return Object(v.__generator)(this,(function(c){switch(c.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return Le(e.data)?self.location.origin:null}(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,He(o)]):[2]):[2];case 1:return(s=c.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=c.sent(),[4,Be(3e3)];case 3:return c.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=c.sent(),c.label=6;case 6:return s?(r.messageType=de.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function qe(e){var t,n=Object(v.__assign)({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function He(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return Object(v.__generator)(this,(function(c){switch(c.label){case 0:return[4,Ve()];case 1:t=c.sent();try{for(n=Object(v.__values)(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(u){a={error:u}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function ze(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=de.PUSH_RECEIVED;try{for(var i=Object(v.__values)(e),o=i.next();!o.done;o=i.next()){o.value.postMessage(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Ve(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function We(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var Ge=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(v.__generator)(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===de.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),Le(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){return Object(v.__generator)(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw _e.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,Ne(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){return Object(v.__generator)(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=ve),[2]}))}))},e.prototype.updateSwReg=function(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){return Object(v.__generator)(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw _e.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return Object(v.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(v.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),_e.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return Object(v.__awaiter)(this,void 0,void 0,(function(){return Object(v.__generator)(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,Me(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return Object(v.__awaiter)(this,void 0,void 0,(function(){var e;return Object(v.__generator)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?_e.create("permission-blocked"):_e.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw _e.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw _e.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw _e.create("invalid-sw-registration");if(this.swRegistration)throw _e.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw _e.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw _e.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return Object(v.__awaiter)(this,void 0,void 0,(function(){var n;return Object(v.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case de.NOTIFICATION_CLICKED:return"notification_open";case de.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function $e(e){return _e.create("missing-app-config-values",{valueName:e})}var Xe={isSupported:Je};function Je(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}h.default.INTERNAL.registerComponent(new m.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw $e("App Configuration Object");if(!e.name)throw $e("App Name");var r=e.options;try{for(var i=Object(v.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw $e(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!Je())throw _e.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Ke(n):new Ge(n)}),"PUBLIC").setServiceProps(Xe));var Ye=function(e){function t(n,r){var i=e.call(this,Ze(n),"Firebase Storage: "+r+" ("+Ze(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return Object(v.__extends)(t,e),t.prototype._codeEquals=function(e){return Ze(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(g.FirebaseError);function Ze(e){return"storage/"+e}function Qe(){return new Ye("unknown","An unknown error occurred, please check the error payload for server response.")}function et(){return new Ye("canceled","User canceled the upload/download.")}function tt(){return new Ye("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function nt(e){return new Ye("invalid-argument",e)}function rt(){return new Ye("app-deleted","The Firebase app was deleted.")}function it(e){return new Ye("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ot(e,t){return new Ye("invalid-format","String does not match format '"+e+"': "+t)}function at(e){throw new Ye("internal-error","Internal error: "+e)}var st={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ct=function(e,t){this.data=e,this.contentType=t||null};function ut(e,t){switch(e){case st.RAW:return new ct(lt(t));case st.BASE64:case st.BASE64URL:return new ct(ft(e,t));case st.DATA_URL:return new ct(function(e){var t=new pt(e);return t.base64?ft(st.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw ot(st.DATA_URL,"Malformed data URL.")}return lt(t)}(t.rest)}(t),new pt(t).contentType)}throw Qe()}function lt(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ft(e,t){switch(e){case st.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw ot(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case st.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw ot(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(u){throw ot(e,"Invalid character found")}for(var s=new Uint8Array(a.length),c=0;c<a.length;c++)s[c]=a.charCodeAt(c);return s}var pt=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw ot(st.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var r,i};var ht,dt={STATE_CHANGED:"state_changed"},gt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _t(e){switch(e){case"running":case"pausing":case"canceling":return gt.RUNNING;case"paused":return gt.PAUSED;case"success":return gt.SUCCESS;case"canceled":return gt.CANCELED;case"error":default:return gt.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(ht||(ht={}));var vt=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ht.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=ht.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=ht.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw at("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw at("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw at("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw at("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();var mt=function(){function e(){}return e.prototype.createConnection=function(){return new vt},e}(),bt=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new Ye("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null;var i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var a=n.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var u=s[c],l=u.regex.exec(t);if(l){var f=l[u.indices.bucket],p=l[u.indices.path];p||(p=""),r=new e(f,p),u.postModify(r);break}}if(null==r)throw function(e){return new Ye("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),yt=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function wt(e){return"string"===typeof e||e instanceof String}function kt(e){return Ot()&&e instanceof Blob}function Ot(){return"undefined"!==typeof Blob}function Tt(e,t,n,r){if(r<t)throw nt("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw nt("Invalid value for '"+e+"'. Expected "+n+" or less.")}function It(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function Et(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var jt=function(){function e(e,t,n,r,i,o,a,s,c,u,l){var f=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=u,this.timeout_=c,this.pool_=l,this.promise_=new Promise((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(c){o(c)}else null!==a?((r=Qe()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?rt():et()):o(r=new Ye("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new St(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var c=!1;function u(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];c||(c=!0,t.apply(null,e))}function l(t){i=setTimeout((function(){i=null,e(f,s())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!c)if(e)u.call.apply(u,Object(v.__spreadArray)([null,e],t));else{var i;s()||o?u.call.apply(u,Object(v.__spreadArray)([null,e],t)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i))}}var p=!1;function h(e){p||(p=!0,c||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,h(!0)}),n),h}((function(t,n){if(n)t(!1,new St(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===ht.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new St(a,r))}else{var s=r.getErrorCode()===ht.ABORT;t(!1,new St(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),St=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function Ct(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Pt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ct();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(Ot())return new Blob(e);throw new Ye("unsupported-environment","This browser doesn't seem to support creating Blobs")}var At=function(){function e(e,t){var n=0,r="";kt(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(kt(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Ot()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(Pt.apply(null,r))}var i=t.map((function(e){return wt(e)?ut(st.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function Rt(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t}function xt(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Nt(e,t){return t}var Mt=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Nt},Dt=null;function Ft(){if(Dt)return Dt;var e=[];e.push(new Mt("bucket")),e.push(new Mt("generation")),e.push(new Mt("metageneration")),e.push(new Mt("name","fullPath",!0));var t=new Mt("name");t.xform=function(e,t){return function(e){return!wt(e)||e.length<2?e:xt(e)}(t)},e.push(t);var n=new Mt("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Mt("timeCreated")),e.push(new Mt("updated")),e.push(new Mt("md5Hash",null,!0)),e.push(new Mt("cacheControl",null,!0)),e.push(new Mt("contentDisposition",null,!0)),e.push(new Mt("contentEncoding",null,!0)),e.push(new Mt("contentLanguage",null,!0)),e.push(new Mt("contentType",null,!0)),e.push(new Mt("metadata","customMetadata",!0)),Dt=e}function Ut(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new bt(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Lt(e,t,n){var r=Rt(t);return null===r?null:Ut(e,r,n)}function Bt(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function Kt(e,t,n){var r=Rt(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new bt(t,a));r.prefixes.push(s)}if(n.items)for(var c=0,u=n.items;c<u.length;c++){var l=u[c];s=e._makeStorageReference(new bt(t,l.name)),r.items.push(s)}return r}(e,t,r)}var qt=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Ht(e){if(!e)throw Qe()}function zt(e,t){return function(n,r){var i=Lt(e,r,t);return Ht(null!==i),i}}function Vt(e,t){return function(n,r){var i=Lt(e,r,t);return Ht(null!==i),function(e,t,n){var r=Rt(t);if(null===r)return null;if(!wt(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return It("/b/"+o(r)+"/o/"+o(i),n)+Et({alt:"media",token:t})}))[0]}(i,r,e.host)}}function Wt(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new Ye("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Ye("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Ye("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Ye("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Gt(e){var t=Wt(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new Ye("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function $t(e,t,n){var r=It(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new qt(r,"GET",zt(e,n),i);return o.errorHandler=Gt(t),o}function Xt(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=It(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,c=new qt(a,"GET",function(e,t){return function(n,r){var i=Kt(e,t,r);return Ht(null!==i),i}}(e,t.bucket),s);return c.urlParams=o,c.errorHandler=Wt(t),c}function Jt(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var Yt=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function Zt(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Ht(!1)}return Ht(!!n&&-1!==(t||["active"]).indexOf(n)),n}function Qt(e,t,n,r,i,o,a,s){var c=new Yt(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new Ye("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=c.total-c.current,l=u;i>0&&(l=Math.min(l,i));var f=c.current,p=f+l,h={"X-Goog-Upload-Command":l===u?"upload, finalize":"upload","X-Goog-Upload-Offset":""+c.current},d=r.slice(f,p);if(null===d)throw tt();var g=t.maxUploadRetryTime,_=new qt(n,"POST",(function(e,n){var i,a=Zt(e,["active","final"]),s=c.current+l,u=r.size();return i="final"===a?zt(t,o)(e,n):null,new Yt(s,u,"final"===a,i)}),g);return _.headers=h,_.body=d.uploadData(),_.progressCallback=s||null,_.errorHandler=Wt(e),_}var en=function(e,t,n){if("function"===typeof e||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};function tn(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var nn=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Ft(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=Jt(t,r,i),s={name:a.fullPath},c=It(o,e.host),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=Bt(a,n),f=e.maxUploadRetryTime,p=new qt(c,"POST",(function(e){var t;Zt(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Ht(!1)}return Ht(wt(t)),t}),f);return p.urlParams=s,p.headers=u,p.body=l,p.errorHandler=Wt(t),p}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new qt(n,"POST",(function(e){var t=Zt(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Ht(!1)}n||Ht(!1);var i=Number(n);return Ht(!isNaN(i)),new Yt(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Wt(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=262144*this._chunkMultiplier,n=new Yt(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=Qt(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(c){return e._error=c,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=$t(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var c=Jt(t,r,i),u="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Bt(c,n)+"\r\n--"+s+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=At.getBlob(u,r,l);if(null===f)throw tt();var p={name:c.fullPath},h=It(o,e.host),d=e.maxUploadRetryTime,g=new qt(h,"POST",zt(e,n),d);return g.urlParams=p,g.headers=a,g.body=f.uploadData(),g.errorHandler=Wt(t),g}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=et(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=_t(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new en(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(_t(this._state)){case gt.SUCCESS:tn(this._resolve.bind(null,this.snapshot))();break;case gt.CANCELED:case gt.ERROR:tn(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(_t(this._state)){case gt.RUNNING:case gt.PAUSED:e.next&&tn(e.next.bind(e,this.snapshot))();break;case gt.SUCCESS:e.complete&&tn(e.complete.bind(e))();break;case gt.CANCELED:case gt.ERROR:e.error&&tn(e.error.bind(e,this._error))();break;default:e.error&&tn(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),rn=function(){function e(e,t){this._service=e,this._location=t instanceof bt?t:bt.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new bt(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return xt(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new bt(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw it(e)},e}();function on(e){var t={prefixes:[],items:[]};return function e(t,n,r){return Object(v.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return Object(v.__generator)(this,(function(s){switch(s.label){case 0:return[4,an(t,{pageToken:r})];case 1:return i=s.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(a=n.items).push.apply(a,i.items),null==i.nextPageToken?[3,3]:[4,e(t,n,i.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}(e,t).then((function(){return t}))}function an(e,t){return Object(v.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(v.__generator)(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&Tt("options.maxResults",1,1e3,t.maxResults),n=t||{},r=Xt(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function sn(e,t){return Object(v.__awaiter)(this,void 0,void 0,(function(){var n;return Object(v.__generator)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=It(t.fullServerUrl(),e.host),o=Bt(n,r),a=e.maxOperationRetryTime,s=new qt(i,"PATCH",zt(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Gt(t),s}(e.storage,e._location,t,Ft()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function cn(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){var t;return Object(v.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=It(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new qt(r,"GET",Vt(e,n),i);return o.errorHandler=Gt(t),o}(e.storage,e._location,Ft()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new Ye("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function un(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){var t;return Object(v.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=It(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new qt(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Gt(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function ln(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new bt(e._location.bucket,n);return new rn(e.storage,r)}function fn(e){return/^[A-Za-z]+:\/\//.test(e)}function pn(e,t){if(e instanceof gn){var n=e;if(null==n._bucket)throw new Ye("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new rn(n,n._bucket);return null!=t?pn(r,t):r}if(void 0!==t){if(t.includes(".."))throw nt('`path` param cannot contain ".."');return ln(e,t)}return e}function hn(e,t){if(t&&fn(t)){if(e instanceof gn)return new rn(e,t);throw nt("To use ref(service, url), the first argument must be a Storage instance.")}return pn(e,t)}function dn(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:bt.makeFromBucketSpec(n,e)}var gn=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?bt.makeFromBucketSpec(i,this._host):dn(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=bt.makeFromBucketSpec(this._url,e):this._bucket=dn(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){Tt("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){Tt("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return Object(v.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(v.__generator)(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return Object(v.__awaiter)(this,void 0,void 0,(function(){var e;return Object(v.__generator)(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new rn(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new yt(rt());var i=function(e,t,n,r,i,o){var a=Et(e.urlParams),s=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new jt(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(v.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function _n(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new nn(e,new At(t),n)}(e=Object(g.getModularInstance)(e),t,n)}function vn(e){return function(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){var t;return Object(v.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=$t(e.storage,e._location,Ft()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=Object(g.getModularInstance)(e))}function mn(e,t){return hn(e=Object(g.getModularInstance)(e),t)}var bn=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),yn=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new bn(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new bn(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new bn(e,i,i._ref))}:{next:t.next?function(e){return t.next(new bn(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),wn=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new kn(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new kn(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),kn=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return ln(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new yn(_n(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=st.RAW),this._throwIfRoot("putString");var r=ut(t,e),i=Object(v.__assign)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new yn(new nn(this._delegate,new At(r.data,!0),i),this)},e.prototype.listAll=function(){var e,t=this;return(e=this._delegate,on(e=Object(g.getModularInstance)(e))).then((function(e){return new wn(e,t.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return an(e=Object(g.getModularInstance)(e),t)}(this._delegate,e||void 0).then((function(e){return new wn(e,t.storage)}))},e.prototype.getMetadata=function(){return vn(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return sn(e=Object(g.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return e=this._delegate,cn(e=Object(g.getModularInstance)(e));var e},e.prototype.delete=function(){return this._throwIfRoot("delete"),e=this._delegate,un(e=Object(g.getModularInstance)(e));var e},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw it(e)},e}(),On=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(fn(e))throw nt("ref() expected a child path but got a URL, use refFromURL instead.");return new kn(mn(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!fn(e))throw nt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{bt.makeFromUrl(e,this._delegate.host)}catch(t){throw nt("refFromUrl() expected a valid full URL but got an invalid one.")}return new kn(mn(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t){!function(e,t,n){!function(e,t,n){e.host="http://"+t+":"+n}(e,t,n)}(this._delegate,e,t)},e}();function Tn(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new On(r,new gn(r,i,o,new mt,n,h.default.SDK_VERSION))}!function(e){var t={TaskState:gt,TaskEvent:dt,StringFormat:st,Storage:gn,Reference:kn};e.INTERNAL.registerComponent(new m.Component("storage",Tn,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.6.2")}(h.default);var In,En,jn,Sn=((In={})["trace started"]="Trace {$traceName} was started before.",In["trace stopped"]="Trace {$traceName} is not running.",In["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",In["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",In["no window"]="Window is not available.",In["no app id"]="App id is not available.",In["no project id"]="Project id is not available.",In["no api key"]="Api key is not available.",In["invalid cc log"]="Attempted to queue invalid cc event",In["FB not default"]="Performance can only start when Firebase app instance is the default one.",In["RC response not ok"]="RC response is not ok",In["invalid attribute name"]="Attribute name {$attributeName} is invalid.",In["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",In["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",In["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",In),Cn=new g.ErrorFactory("performance","Performance",Sn),Pn=new _.Logger("Performance");Pn.logLevel=_.LogLevel.INFO;var An,Rn=function(){function e(e){if(this.window=e,!e)throw Cn.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(g.isIndexedDBAvailable)()||(Pn.info("IndexedDB is not supported by current browswer"),!1):(Pn.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}})).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===En&&(En=new e(jn)),En},e}();function xn(e,t){var n=e.length-t.length;if(n<0||n>1)throw Cn.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var Nn,Mn,Dn=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=xn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=xn("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw Cn.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw Cn.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw Cn.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===An&&(An=new e),An},e}();function Fn(){return Nn}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(Mn||(Mn={}));var Un=["firebase_","google_","ga_"],Ln=new RegExp("^[a-zA-Z]\\w*$");function Bn(){var e=Rn.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function Kn(){switch(Rn.getInstance().document.visibilityState){case"visible":return Mn.VISIBLE;case"hidden":return Mn.HIDDEN;default:return Mn.UNKNOWN}}function qn(){var e=Rn.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var Hn=!0;function zn(e){var t=function(){var e=Rn.getInstance().localStorage;if(!e)return;var t=e.getItem("@firebase/performance/configexpire");if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem("@firebase/performance/config");if(!r)return;try{return JSON.parse(r)}catch(i){return}}();return t?(Vn(t),Promise.resolve()):function(e){return function(){var e=Dn.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+Dn.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+Dn.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Dn.getInstance().getAppId(),app_version:"0.4.17",sdk_version:"0.0.1"})});return fetch(r).then((function(e){if(e.ok)return e.json();throw Cn.create("RC response not ok")}))})).catch((function(){Pn.info("Could not fetch config, will use default configs")}))}(e).then(Vn).then((function(e){return function(e){var t=Rn.getInstance().localStorage;if(!e||!t)return;t.setItem("@firebase/performance/config",JSON.stringify(e)),t.setItem("@firebase/performance/configexpire",String(Date.now()+60*Dn.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}function Vn(e){if(!e)return e;var t=Dn.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=Hn,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=Wn(t.tracesSamplingRate),t.logNetworkAfterSampling=Wn(t.networkRequestsSamplingRate),e}function Wn(e){return Math.random()<=e}var Gn,$n=1;function Xn(){return $n=2,Gn=Gn||function(){var e=Rn.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(){var e=Dn.getInstance().installationsService.getId();return e.then((function(e){Nn=e})),e}()})).then((function(e){return zn(e)})).then((function(){return Jn()}),(function(){return Jn()}))}function Jn(){$n=3}var Yn,Zn=3,Qn=[],er=!1;function tr(e){setTimeout((function(){if(0!==Zn)return Qn.length?void function(){var e=Qn.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=Dn.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||Pn.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=1e4;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(Qn=Object(v.__spreadArray)(Object(v.__spreadArray)([],t),Qn),Pn.info("Retry transport request later.")),Zn=3,tr(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Dn.getInstance().logSource,log_event:t},e).catch((function(){Qn=Object(v.__spreadArray)(Object(v.__spreadArray)([],e),Qn),Zn--,Pn.info("Tries left: "+Zn+"."),tr(1e4)}))}():tr(1e4)}),e)}function nr(e){if(!e.eventTime||!e.message)throw Cn.create("invalid cc log");Qn=Object(v.__spreadArray)(Object(v.__spreadArray)([],Qn),[e])}function rr(e,t){Yn||(Yn=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];nr({message:e.apply(void 0,t),eventTime:Date.now()})}}(ar)),Yn(e,t)}function ir(e){var t=Dn.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&Rn.getInstance().requiredApisAvailable()&&(e.isAuto&&Kn()!==Mn.VISIBLE||(3===$n?or(e):Xn().then((function(){return or(e)}),(function(){return or(e)}))))}function or(e){if(Fn()){var t=Dn.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return rr(e,1)}),0)}}function ar(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:sr(),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:sr(),trace_metric:t};return JSON.stringify(r)}(e)}function sr(){return{google_app_id:Dn.getInstance().getAppId(),app_instance_id:Fn(),web_app_info:{sdk_version:"0.4.17",page_url:Rn.getInstance().getUrl(),service_worker_status:Bn(),visibility_state:Kn(),effective_connection_type:qn()},application_process_state:0}}var cr=["_fp","_fcp","_fid"];var ur=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=Rn.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw Cn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw Cn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),ir(this)},e.prototype.record=function(e,t,n){if(e<=0)throw Cn.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw Cn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=Object(v.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}ir(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith("_wt_")&&cr.indexOf(n)>-1)&&n.startsWith("_"))throw Cn.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&Pn.info("Metric value should be an Integer, setting the value as : "+t+"."),t}(t)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40)&&!Un.some((function(e){return n.startsWith(e)}))&&!!n.match(Ln),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw Cn.create("invalid attribute name",{attributeName:e});if(!i)throw Cn.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return Object(v.__assign)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=Rn.getInstance().getUrl();if(i){var o=new e("_wt_"+i,!0),a=Math.floor(1e3*Rn.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var c=n.find((function(e){return"first-contentful-paint"===e.name}));c&&c.startTime&&o.putMetric("_fcp",Math.floor(1e3*c.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}ir(o)}},e.createUserTimingTrace=function(t){ir(new e(t,!1,t))},e}();function lr(e){var t=e;if(t&&void 0!==t.responseStart){var n=Rn.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=Dn.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return rr(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function fr(){Fn()&&(setTimeout((function(){return function(){var e=Rn.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){ur.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),ur.createOobTrace(t,n,e))}))}else ur.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=Rn.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){lr(r[n])}e.setupObserver("resource",lr)}()}),0),setTimeout((function(){return function(){for(var e=Rn.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){pr(r[n])}e.setupObserver("measure",pr)}()}),0))}function pr(e){var t=e.name;"FB-PERF-TRACE-MEASURE"!==t.substring(0,"FB-PERF-TRACE-MEASURE".length)&&ur.createUserTimingTrace(t)}var hr=function(){function e(e){this.app=e,Rn.getInstance().requiredApisAvailable()&&Object(g.validateIndexedDBOpenable)().then((function(e){e&&(er||(tr(5500),er=!0),Xn().then(fr,fr))})).catch((function(e){Pn.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new ur(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Dn.getInstance().instrumentationEnabled},set:function(e){Dn.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Dn.getInstance().dataCollectionEnabled},set:function(e){Dn.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw Cn.create("FB not default");if("undefined"===typeof window)throw Cn.create("no window");return function(e){jn=e}(window),Dn.getInstance().firebaseAppInstance=e,Dn.getInstance().installationsService=t,new hr(e)};e.INTERNAL.registerComponent(new m.Component("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance","0.4.17")}(h.default);var dr,gr,_r="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(dr||(dr={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(gr||(gr={}));var vr,mr=new _.Logger("@firebase/analytics");function br(e,t,n,r,i,o){return Object(v.__awaiter)(this,void 0,void 0,(function(){var a,s,c,u;return Object(v.__generator)(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(c=s.find((function(e){return e.measurementId===i})))?[4,t[c.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return u=l.sent(),mr.error(u),[3,8];case 8:return e(dr.CONFIG,i,o),[2]}}))}))}function yr(e,t,n,r,i){return Object(v.__awaiter)(this,void 0,void 0,(function(){var o,a,s,c,u,l,f,p;return Object(v.__generator)(this,(function(h){switch(h.label){case 0:return h.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=h.sent(),c=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},u=0,l=a;u<l.length&&(f=l[u],"break"!==c(f));u++);h.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return h.sent(),e(dr.EVENT,r,i||{}),[3,5];case 4:return p=h.sent(),mr.error(p),[3,5];case 5:return[2]}}))}))}function wr(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return Object(v.__awaiter)(this,void 0,void 0,(function(){var s;return Object(v.__generator)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,6,,7]),i!==dr.EVENT?[3,2]:[4,yr(e,t,n,o,a)];case 1:return c.sent(),[3,5];case 2:return i!==dr.CONFIG?[3,4]:[4,br(e,t,n,r,o,a)];case 3:return c.sent(),[3,5];case 4:e(dr.SET,o),c.label=5;case 5:return[3,7];case 6:return s=c.sent(),mr.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var kr=((vr={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",vr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",vr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",vr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",vr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",vr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",vr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",vr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',vr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',vr),Or=new g.ErrorFactory("analytics","Analytics",kr),Tr=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function Ir(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Er(e){var t;return Object(v.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,c;return Object(v.__generator)(this,(function(u){switch(u.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:Ir(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=u.sent()).status||304===a.status)return[3,6];s="",u.label=2;case 2:return u.trys.push([2,4,,5]),[4,a.json()];case 3:return c=u.sent(),(null===(t=c.error)||void 0===t?void 0:t.message)&&(s=c.error.message),[3,5];case 4:return u.sent(),[3,5];case 5:throw Or.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function jr(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=Tr),Object(v.__awaiter)(this,void 0,void 0,(function(){var t,a,s,c,u,l,f;return Object(v.__generator)(this,(function(p){switch(p.label){case 0:t=e.appId,a=e.measurementId,p.label=1;case 1:return p.trys.push([1,3,,4]),[4,Sr(n,i)];case 2:return p.sent(),[3,4];case 3:if(s=p.sent(),a)return mr.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return p.trys.push([4,6,,7]),[4,Er(e)];case 5:return c=p.sent(),r.deleteThrottleMetadata(t),[2,c];case 6:if(!function(e){if(!(e instanceof g.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(u=p.sent())){if(r.deleteThrottleMetadata(t),a)return mr.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:t,measurementId:a}];throw u}return l=503===Number(u.customData.httpStatus)?Object(g.calculateBackoffMillis)(o,r.intervalMillis,30):Object(g.calculateBackoffMillis)(o,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,f),mr.debug("Calling attemptFetch again in "+l+" millis"),[2,jr(e,f,n,r)];case 7:return[2]}}))}))}function Sr(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(Or.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var Cr=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function Pr(e,t,n,r,i,o){return Object(v.__awaiter)(this,void 0,void 0,(function(){var a,s,c,u,l,f,p;return Object(v.__generator)(this,(function(h){switch(h.label){case 0:return(a=function(e,t,n){return void 0===t&&(t=Tr),Object(v.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,c,u=this;return Object(v.__generator)(this,(function(l){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw Or.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw Or.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Cr,setTimeout((function(){return Object(v.__awaiter)(u,void 0,void 0,(function(){return Object(v.__generator)(this,(function(e){return c.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,jr({appId:i,apiKey:o,measurementId:a},s,c,t)]}))}))}(e)).then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&mr.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return mr.error(e)})),t.push(a),s=function(){return Object(v.__awaiter)(this,void 0,void 0,(function(){var e;return Object(v.__generator)(this,(function(t){switch(t.label){case 0:return Object(g.isIndexedDBAvailable)()?[3,1]:(mr.warn(Or.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,Object(g.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),mr.warn(Or.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return c=h.sent(),u=c[0],l=c[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(_r))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=_r+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,u.measurementId),i("js",new Date),(p={}).origin="firebase",p.update=!0,f=p,null!=l&&(f.firebase_id=l),i(dr.CONFIG,u.measurementId,f),[2,u.measurementId]}}))}))}var Ar,Rr,xr={},Nr=[],Mr={},Dr="dataLayer",Fr="gtag",Ur=!1;function Lr(e){if(Ur)throw Or.create("already-initialized");e.dataLayerName&&(Dr=e.dataLayerName),e.gtagName&&(Fr=e.gtagName)}function Br(e,t){!function(){var e=[];if(Object(g.isBrowserExtension)()&&e.push("This is a browser extension environment."),Object(g.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=Or.create("invalid-analytics-context",{errorInfo:t});mr.warn(n.message)}}();var n=e.options.appId;if(!n)throw Or.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Or.create("no-api-key");mr.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=xr[n])throw Or.create("already-exists",{id:n});if(!Ur){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Dr);var r=wr(xr,Nr,Mr,Dr,Fr),i=r.wrappedGtag,o=r.gtagCore;Rr=i,Ar=o,Ur=!0}return xr[n]=Pr(e,Nr,Mr,t,Ar,Dr),{app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return Object(v.__awaiter)(this,void 0,void 0,(function(){var o,a;return Object(v.__generator)(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(dr.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=Object(v.__assign)(Object(v.__assign)({},r),{send_to:o}),e(dr.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(Rr,xr[n],e,t,r).catch((function(e){return mr.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return Object(v.__awaiter)(this,void 0,void 0,(function(){var i;return Object(v.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(dr.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(dr.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(Rr,xr[n],e,t).catch((function(e){return mr.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return Object(v.__awaiter)(this,void 0,void 0,(function(){var i;return Object(v.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(dr.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(dr.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(Rr,xr[n],e,t).catch((function(e){return mr.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return Object(v.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,c;return Object(v.__generator)(this,(function(u){switch(u.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(dr.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:c=u.sent(),e(dr.CONFIG,c,{update:!0,user_properties:n}),u.label=3;case 3:return[2]}}))}))})(Rr,xr[n],e,t).catch((function(e){return mr.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return Object(v.__awaiter)(this,void 0,void 0,(function(){var n;return Object(v.__generator)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(xr[n],e).catch((function(e){return mr.error(e)}))},INTERNAL:{delete:function(){return delete xr[n],Promise.resolve()}}}}function Kr(){return Object(v.__awaiter)(this,void 0,void 0,(function(){return Object(v.__generator)(this,(function(e){switch(e.label){case 0:if(Object(g.isBrowserExtension)())return[2,!1];if(!Object(g.areCookiesEnabled)())return[2,!1];if(!Object(g.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Object(g.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new m.Component("analytics",(function(e){return Br(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Lr,EventName:gr,isSupported:Kr})),e.INTERNAL.registerComponent(new m.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider("analytics").getImmediate().logEvent}}catch(t){throw Or.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.17")}(h.default);var qr,Hr=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o;return Object(v.__generator)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),zr=((qr={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",qr["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",qr["registration-api-key"]="Undefined API key. Check Firebase app initialization.",qr["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",qr["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",qr["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",qr["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",qr["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",qr["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",qr["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',qr["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',qr["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",qr["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",qr),Vr=new g.ErrorFactory("remoteconfig","Remote Config",zr);var Wr=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,c,u,l,f,p,h,d,g,_,m,b,y;return Object(v.__generator)(this,(function(v){switch(v.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=v.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===w&&(w=navigator),w.languages&&w.languages[0]||w.language)},c={method:"POST",headers:a,body:JSON.stringify(s)},u=fetch(o,c),l=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),v.label=2;case 2:return v.trys.push([2,5,,6]),[4,Promise.race([u,l])];case 3:return v.sent(),[4,u];case 4:return f=v.sent(),[3,6];case 5:throw p=v.sent(),h="fetch-client-network","AbortError"===p.name&&(h="fetch-timeout"),Vr.create(h,{originalErrorMessage:p.message});case 6:if(d=f.status,g=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];b=void 0,v.label=7;case 7:return v.trys.push([7,9,,10]),[4,f.json()];case 8:return b=v.sent(),[3,10];case 9:throw y=v.sent(),Vr.create("fetch-client-parse",{originalErrorMessage:y.message});case 10:_=b.entries,m=b.state,v.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?d=500:"NO_CHANGE"===m?d=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(_={}),304!==d&&200!==d)throw Vr.create("fetch-status",{httpStatus:d});return[2,{status:d,eTag:g,config:_}]}var w}))}))},e}(),Gr=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),$r=["1","true","t","yes","y","on"],Xr=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&$r.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),Jr=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=_.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=_.LogLevel.SILENT;break;default:this._logger.logLevel=_.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return Object(v.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return Object(v.__generator)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return Object(v.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r=this;return Object(v.__generator)(this,(function(i){switch(i.label){case 0:e=new Gr,setTimeout((function(){return Object(v.__awaiter)(r,void 0,void 0,(function(){return Object(v.__generator)(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),a="fetch-throttle",n=(o=t)instanceof g.FirebaseError&&-1!==o.code.indexOf(a)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}var o,a}))}))},e.prototype.fetchAndActivate=function(){return Object(v.__awaiter)(this,void 0,void 0,(function(){return Object(v.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys(Object(v.__assign)(Object(v.__assign)({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new Xr("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new Xr("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new Xr("static"))},e}();function Yr(e,t){var n=e.target.error||void 0;return Vr.create(t,{originalErrorMessage:n&&n.message})}var Zr=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(Yr(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return Object(v.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(Yr(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(c){i(Vr.create("storage-get",{originalErrorMessage:c&&c.message}))}}))]}}))}))},e.prototype.set=function(e,t){return Object(v.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return Object(v.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=r.createCompositeKey(e);try{var c=a.put({compositeKey:s,value:t});c.onerror=function(e){o(Yr(e,"storage-set"))},c.onsuccess=function(){i()}}catch(u){o(Vr.create("storage-set",{originalErrorMessage:u&&u.message}))}}))]}}))}))},e.prototype.delete=function(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return Object(v.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(Yr(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(c){i(Vr.create("storage-delete",{originalErrorMessage:c&&c.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),Qr=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return Object(v.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o;return Object(v.__generator)(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function ei(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(Vr.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var ti,ni=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return Object(v.__awaiter)(this,void 0,void 0,(function(){var t;return Object(v.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return Object(v.__awaiter)(this,void 0,void 0,(function(){var t,i,o;return Object(v.__generator)(this,(function(a){switch(a.label){case 0:return[4,ei(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof g.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+Object(g.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}();(ti=h.default).INTERNAL.registerComponent(new m.Component("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw Vr.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,c=o.appId;if(!a)throw Vr.create("registration-project-id");if(!s)throw Vr.create("registration-api-key");if(!c)throw Vr.create("registration-app-id");n=n||"firebase";var u=new Zr(c,r.name,n),l=new Qr(u),f=new _.Logger("@firebase/remote-config");f.logLevel=_.LogLevel.ERROR;var p=new Wr(i,ti.SDK_VERSION,n,a,s,c),h=new ni(p,u),d=new Hr(h,u,l,f),g=new Jr(r,d,l,u,f);return g.ensureInitialized(),g}),"PUBLIC").setMultipleInstances(!0)),ti.registerVersion("@firebase/remote-config","0.1.42");n("X8/r");h.default.registerVersion("firebase","8.9.0","app"),h.default.SDK_VERSION="8.9.0";console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),h.default.registerVersion("firebase","8.9.0");n("5x/H");h.default.initializeApp({apiKey:"AIzaSyCoeywy-lFmiWjxr_EXQIl4C9nnTihZQ7A",authDomain:"new-york-city-village.firebaseapp.com",databaseURL:"https://new-york-city-village.firebaseio.com",projectId:"new-york-city-village",storageBucket:"new-york-city-village.appspot.com",messagingSenderId:"359184157731",appId:"1:359184157731:web:29d0f22c8ad4f4ec133596"});var ri=h.default,ii=n("TJpk"),oi=o.a.createElement,ai=(l()((function(){return Promise.all([n.e(0),n.e(7)]).then(n.t.bind(null,"Py4S",7))}),{ssr:!1,loadableGenerated:{webpack:function(){return["Py4S"]},modules:["react-zmage"]}}),Object(a.e)(["",""],s.fadeIn)),si=Object(a.e)(["",""],s.fadeInDown),ci=a.d.div.withConfig({displayName:"contactForm__MainStyle",componentId:"sc-1ydq2nj-0"})(["background:white;min-height:calc(100vh - ("," + ","));color:",";background:",";font-family:",";@media (max-width:600px){}"],(function(e){return e.theme.layout.navHeight}),(function(e){return e.theme.layout.footerHeight}),(function(e){return e.theme.colors.grey7}),(function(e){return e.theme.colors.grey2}),(function(e){return e.theme.font})),ui=a.d.div.withConfig({displayName:"contactForm__Columns",componentId:"sc-1ydq2nj-1"})(["display:flex;width:100%;height:calc(100vh - ("," + ","));@media (max-width:600px){flex-direction:column;}"],(function(e){return e.theme.layout.navHeight}),(function(e){return e.theme.layout.footerHeight})),li=a.d.div.withConfig({displayName:"contactForm__Left",componentId:"sc-1ydq2nj-2"})(["width:70%;background:white;height:100%;@media (max-width:600px){width:100%;}"]),fi=a.d.div.withConfig({displayName:"contactForm__Header",componentId:"sc-1ydq2nj-3"})(["display:flex;justify-content:space-between;padding:20px;margin-bottom:20px;"]),pi=a.d.div.withConfig({displayName:"contactForm__Menu",componentId:"sc-1ydq2nj-4"})(["display:flex;justify-content:space-between;width:400px;align-items:center;font-weight:bold;color:",";margin-right:70px;@media (max-width:600px){display:none;}"],(function(e){return e.theme.colors.grey5})),hi=a.d.div.withConfig({displayName:"contactForm__MenuItem",componentId:"sc-1ydq2nj-5"})(["cursor:pointer;font-size:14px;"]),di=a.d.img.withConfig({displayName:"contactForm__Logo",componentId:"sc-1ydq2nj-6"})(["cursor:pointer;width:100px;@media (max-width:600px){width:80px;height:60px;}"]),gi=a.d.img.withConfig({displayName:"contactForm__MenuBtn",componentId:"sc-1ydq2nj-7"})(["display:none;@media (max-width:600px){display:block;cursor:pointer;width:30px;}"]),_i=a.d.div.withConfig({displayName:"contactForm__Right",componentId:"sc-1ydq2nj-8"})(["width:30%;background:black;@media (max-width:600px){display:none;}"]),vi=a.d.img.withConfig({displayName:"contactForm__Cover",componentId:"sc-1ydq2nj-9"})(["object-fit:cover;height:100%;width:100%;animation:2s ",";"],ai),mi=a.d.div.withConfig({displayName:"contactForm__Btn",componentId:"sc-1ydq2nj-10"})(["cursor:pointer;width:250px;color:white;background:#C9A114;text-transform:uppercase;font-weight:bold;font-size:13px;font-family:",";padding:20px 10px 20px 10px;text-align:center;margin:10px auto;animation:2s ",";"],(function(e){return e.theme.font}),si),bi=a.d.div.withConfig({displayName:"contactForm__StyledFormWrapper",componentId:"sc-1ydq2nj-11"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]),yi=a.d.form.withConfig({displayName:"contactForm__StyledForm",componentId:"sc-1ydq2nj-12"})(["display:flex;flex-direction:column;align-items:center;"]),wi=a.d.input.withConfig({displayName:"contactForm__StyledInput",componentId:"sc-1ydq2nj-13"})(["margin-top:2vh;width:20vw;height:2.5vh;font-family:",";"],(function(e){return e.theme.font})),ki=a.d.textarea.withConfig({displayName:"contactForm__StyledTextArea",componentId:"sc-1ydq2nj-14"})(["margin-top:2vh;margin-bottom:1.5vh;width:20vw;height:7vh;font-family:",";"],(function(e){return e.theme.font}));t.default=function(){var e=Object(i.useContext)(c.a),t=Object(i.useState)(""),n=t[0],r=t[1],o=Object(i.useState)(""),a=o[0],s=o[1],u=Object(i.useState)(""),l=u[0],f=u[1];return oi(ci,null,oi(ii.Helmet,null,oi("title",null,"New York City Village - Bar\xe3o Geraldo - Campinas")),oi(ui,null,oi(li,null,oi(fi,null,oi(p.a,{href:"/"},oi(di,{src:"https://firebasestorage.googleapis.com/v0/b/new-york-city-village.appspot.com/o/logo%2Flogo.png?alt=media&token=85cf1b26-3d30-4a14-9e43-acf5e39a93a0"})),oi(pi,null,oi(p.a,{href:"/acomodacoes"},oi(hi,null,"Acomoda\xe7\xf5es")),oi(p.a,{href:"/localizacao"},oi(hi,null,"Localiza\xe7\xe3o")),oi(p.a,{href:"/estrutura"},oi(hi,null,"Estrutura"))),oi(gi,{onClick:function(){return e.openMenu(!0)},src:"https://firebasestorage.googleapis.com/v0/b/new-york-city-village.appspot.com/o/icons%2Fmenu_24px_outlined.svg?alt=media&token=b1386e09-291b-4dd2-b6e0-0d83716a8f47"})),oi(bi,null,oi("h1",null,"ENTRE EM CONTATO COM O NEW YORK"),oi(bi,null,oi(yi,null,oi("label",{htmlFor:"name"}),oi(wi,{placeholder:"Nome",value:n,onChange:function(e){return r(e.target.value)}}),oi("label",{htmlFor:"email"}),oi(wi,{placeholder:"E-mail",value:a,onChange:function(e){return s(e.target.value)}}),oi("label",{htmlFor:"message"}),oi(ki,{placeholder:"Mensagem",value:l,onChange:function(e){return f(e.target.value)}}),oi(mi,{onClick:function(e){var t=ri.firestore().collection("contatosRecebidos");e.preventDefault(),t.add({name:n,email:a,message:l}).then((function(){alert("Recebemos sua mensagem, em breve entraremos em contato. ")})).catch((function(e){alert(e.message)})),r(""),s(""),f("")}},"Enviar"))))),oi(_i,null,oi(vi,{src:"https://firebasestorage.googleapis.com/v0/b/morando-em-barao.appspot.com/o/lofts%2Fcristiano-new-york%2Fnewyork%205.jpg?alt=media&token=dbe318aa-fe43-4169-9e56-5941744af54d"}))))}},"X8/r":function(e,t,n){"use strict";var r=n("zIRd"),i=n("/6Yf"),o=n("mrSG"),a=n("qOnz"),s=n("q/0M");function c(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var u,l=c(r),f=((u={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",u["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",u["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",u["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",u["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",u["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",u["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",u["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",u["recaptcha-error"]="ReCAPTCHA error.",u),p=new a.ErrorFactory("appCheck","AppCheck",f),h=new Map,d={activated:!1,tokenObservers:[]},g={enabled:!1};function _(e){return h.get(e)||d}function v(e,t){h.set(e,t)}function m(){return g}var b="https://content-firebaseappcheck.googleapis.com/v1beta",y=3e4,w=96e4,k=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function O(){return self.grecaptcha}function T(e){if(!_(e).activated)throw p.create("use-before-activation",{appName:e.name})}function I(e){return a.base64.encodeString(JSON.stringify(e),!1)}function E(e,t){var n=e.url,r=e.body;return o.__awaiter(this,void 0,void 0,(function(){var e,i,a,s,c,u,l,f,h,d;return o.__generator(this,(function(o){switch(o.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:e},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw c=o.sent(),p.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(200!==s.status)throw p.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return u=o.sent(),[3,8];case 7:throw l=o.sent(),p.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(f=u.ttl.match(/^([\d.]+)(s)$/))||!f[2]||isNaN(Number(f[1])))throw p.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+u.ttl});return h=1e3*Number(f[1]),d=Date.now(),[2,{token:u.attestationToken,expireTimeMillis:d+h,issuedAtTimeMillis:d}]}}))}))}function j(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":exchangeRecaptchaToken?key="+o,body:{recaptcha_token:t}}}function S(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":exchangeDebugToken?key="+o,body:{debug_token:t}}}var C="firebase-app-check-store",P=null;function A(){return P||(P=new Promise((function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(p.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(C,{keyPath:"compositeKey"})}}}catch(r){t(p.create("storage-open",{originalErrorMessage:r.message}))}})))}function R(e){return N(M(e))}function x(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,A()];case 1:return n=o.sent(),r=n.transaction(C,"readwrite"),i=r.objectStore(C),a=i.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){a.onsuccess=function(t){e()},r.onerror=function(e){var n;t(p.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function N(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,A()];case 1:return t=o.sent(),n=t.transaction(C,"readonly"),r=n.objectStore(C),i=r.get(e),[2,new Promise((function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(p.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function M(e){return e.options.appId+"-"+e.name}var D=new s.Logger("@firebase/app-check");function F(e,t){return a.isIndexedDBAvailable()?function(e,t){return x(M(e),t)}(e,t).catch((function(e){D.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function U(){return o.__awaiter(this,void 0,void 0,(function(){var e,t;return o.__generator(this,(function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,N("debug-token")];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),(r=t,x("debug-token",r)).catch((function(e){return D.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r}))}))}function L(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){if((e=m()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var B={error:"UNKNOWN_ERROR"};function K(e,t,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,a,s,c,u,l,f,p,h;return o.__generator(this,(function(d){switch(d.label){case 0:return T(e),r=_(e),i=r.token,a=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:(s=d.sent())&&V(s)&&(i=s,v(e,o.__assign(o.__assign({},r),{token:i})),z(e,{token:i.token})),d.label=2;case 2:return!n&&i&&V(i)?[2,{token:i.token}]:m().enabled?(u=E,l=S,f=[e],[4,L()]):[3,6];case 3:return[4,u.apply(void 0,[l.apply(void 0,f.concat([d.sent()])),t])];case 4:return c=d.sent(),[4,F(e,c)];case 5:return d.sent(),v(e,o.__assign(o.__assign({},r),{token:c})),[2,{token:c.token}];case 6:return d.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=d.sent(),[3,9];case 8:return p=d.sent(),D.error(p),a=p,[3,9];case 9:return i?[3,10]:(h=function(e){return{token:I(B),error:e}}(a),[3,12]);case 10:return h={token:i.token},v(e,o.__assign(o.__assign({},r),{token:i})),[4,F(e,i)];case 11:d.sent(),d.label=12;case 12:return z(e,h),[2,h]}}))}))}function q(e,t,n,r,i){var a=_(e),s={next:r,error:i,type:n},c=o.__assign(o.__assign({},a),{tokenObservers:o.__spreadArray(o.__spreadArray([],a.tokenObservers),[s])});if(!c.tokenRefresher){var u=function(e,t){var n=this;return new k((function(){return o.__awaiter(n,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return _(e).token?[3,2]:[4,K(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,K(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var t=_(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,r=t.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),y,w)}(e,t);c.tokenRefresher=u}if(!c.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&c.tokenRefresher.start(),a.token&&V(a.token)){var l=a.token;Promise.resolve().then((function(){return r({token:l.token})})).catch((function(){}))}else null==a.token&&a.cachedTokenPromise.then((function(e){e&&V(e)&&r({token:e.token})})).catch((function(){}));v(e,c)}function H(e,t){var n=_(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),v(e,o.__assign(o.__assign({},n),{tokenObservers:r}))}function z(e,t){for(var n=0,r=_(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}}function V(e){return e.expireTimeMillis-Date.now()>0}function W(e,t){var n=_(e),r=new a.Deferred;v(e,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var c=O();return c?c.ready((function(){$(e,t,c,i),r.resolve(c)})):function(e){var t=document.createElement("script");t.src="https://www.google.com/recaptcha/api.js",t.onload=e,document.head.appendChild(t)}((function(){var n=O();if(!n)throw new Error("no recaptcha");n.ready((function(){$(e,t,n,i),r.resolve(n)}))})),r.promise}function G(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return T(e),[4,_(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=_(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function $(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=_(e);v(e,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var X=function(){function e(e){this._siteKey=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:if(!this._app||!this._platformLoggerProvider)throw p.create("use-before-activation",{appName:""});t.label=1;case 1:return t.trys.push([1,3,,4]),[4,G(this._app)];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),p.create("recaptcha-error");case 4:return[2,E(j(this._app,e),this._platformLoggerProvider)]}}))}))},e.prototype.initialize=function(e,t){this._app=e,this._platformLoggerProvider=t,W(e,this._siteKey).catch((function(){}))},e}(),J=function(){function e(e){this._customProviderOptions=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!this._app)throw p.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=r.sent(),t=a.issuedAtTime(e.token),n=null!==t&&t<Date.now()&&t>0?1e3*t:Date.now(),[2,o.__assign(o.__assign({},e),{issuedAtTimeMillis:n})]}}))}))},e.prototype.initialize=function(e){this._app=e},e}();function Y(e,t,n,r){var i=_(e);if(i.activated)throw p.create("already-activated",{appName:e.name});var s=o.__assign(o.__assign({},i),{activated:!0});s.cachedTokenPromise=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,R(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),D.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}(e).then((function(t){return t&&V(t)&&v(e,o.__assign(o.__assign({},_(e)),{token:t})),t})),s.provider="string"===typeof t?new X(t):t instanceof X||t instanceof J?t:new J({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=void 0===r?e.automaticDataCollectionEnabled:r,v(e,s),s.provider.initialize(e,n)}function Z(e,t){return{app:e,activate:function(n,r){return Y(e,n,t,r)},setTokenAutoRefreshEnabled:function(t){return function(e,t){var n=_(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),v(e,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(e,t)},getToken:function(n){return function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,K(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(e,t,n)},onTokenChanged:function(n,r,i){return function(e,t,n,r,i){var o=function(){},a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),q(e,t,"EXTERNAL",o,a),function(){return H(e,o)}}(e,t,n,r)},INTERNAL:{delete:function(){for(var t=0,n=_(e).tokenObservers;t<n.length;t++){var r=n[t];H(e,r.next)}return Promise.resolve()}}}}!function(e){e.INTERNAL.registerComponent(new i.Component("appCheck",(function(e){return Z(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setServiceProps({ReCaptchaV3Provider:X,CustomProvider:J}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("app-check-internal").initialize()}))),e.INTERNAL.registerComponent(new i.Component("app-check-internal",(function(e){return function(e,t){return{getToken:function(n){return K(e,t,n)},addTokenListener:function(n){return q(e,t,"INTERNAL",n)},removeTokenListener:function(t){return H(e,t)}}}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.3.0")}(l.default),function(){var e=a.getGlobal();if("string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=m();t.enabled=!0;var n=new a.Deferred;t.token=n,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(U())}}()},nbvr:function(e,t,n){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function c(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function u(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function p(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function h(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new p(n)}function d(e){this._db=e}function g(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new h(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new d(e)}))}function _(e){return r(indexedDB,"deleteDatabase",[e])}o(u,"_index",["name","keyPath","multiEntry","unique"]),a(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),p.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(p,"_tx",["objectStoreNames","mode"]),s(p,"_tx",IDBTransaction,["abort"]),h.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(h,"_db",["name","version","objectStoreNames"]),s(h,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new p(this._db.transaction.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,u].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[u,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=g,e.deleteDb=_,Object.defineProperty(e,"__esModule",{value:!0})}(t)}},[["/c9q",1,0,5,11,10,3,2,6,4]]]);